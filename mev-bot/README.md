# Mev bot

Это пример создания бота, который способен провести frontrun атаку. То есть отловить транзакцию пользователя и провести свою транзакцию вперед него.
Атака будет проводится на смарт-контракте [Treasure.sol](./contracts/Treasure.sol). Суть контракта заключается в том, что снять активы может любой пользователь, который сначала задепозитил.

Бот будет слушать транзакцию пользователя в мемпуле (до добавления транзакции в блок), находить вызов функции `withdraw()` на контракте `Treasure.sol` и проводить свою транзакцию по снятию средств раньше пользователя. В итоге пользователь не получит никаких средств, все средства будут получены ботом.

## Quick Start

Предварительно необходимо:
1. Gоставить [nodejs](https://nodejs.org/en) и npm. Использовалась версия nodejs v20.6.0.
2. Задеплоить контракт в сеть.
    Можно использовать адрес контракта в Sepolia `0x3cc9abd7655E233F865FBdD40818226541231fFC`

Запуск бота:

1. Установить переменные в `.env` согласно `.env.example`
    ```bash
      WEBSOCKET_PROVIDER_URL= [адрес ноды, к которой будет подключение по websocket] /// Я использовал Alchemy
      INITIATOR_PRIVATE_KEY= [приватный ключ кошелька от имени которого бот будет слать свою транзакцию] /// Должно быть достаточно нативной валюты
      INITIATOR_PUBLIC_KEY= [публичный ключ кошелька от имени которого бот будет слать свою транзакцию]
    ```
2. Поменять в коде переменную `contractAddress`. В случае, если будет использоваться собственный адрес контракта `Treasure.sol`
3. `npm ci`
4. `node index.js`